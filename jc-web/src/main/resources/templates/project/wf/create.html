<link rel="stylesheet" xmlns:th="http://www.thymeleaf.org"
      th:href="@{/realaicy/css/s2/select2.min.css}"
      href="../../../static/realaicy/css/s2/select2.min.css"/>

<div class="row" xmlns:th="http://www.thymeleaf.org">
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
        <h1 class="page-title txt-color-blueDark"><i class="fa fa-pencil-square-o fa-fw "></i> 项目管理 <span>>
			新建项目 </span></h1>
    </div>
    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
    </div>
</div>

<!-- widget grid -->
<section id="widget-grid" class="">

    <!-- row -->
    <div class="row">

        <!-- NEW WIDGET START -->
        <article class="col-sm-12 col-md-12 col-lg-12">

            <!-- Widget ID (each widget will need unique ID)-->
            <div class="jarviswidget jarviswidget-color-darken" id="wid-id-0" data-widget-editbutton="false"
                 data-widget-deletebutton="false">
                <!-- widget options:
                usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

                data-widget-colorbutton="false"
                data-widget-editbutton="false"
                data-widget-togglebutton="false"
                data-widget-deletebutton="false"
                data-widget-fullscreenbutton="false"
                data-widget-custombutton="false"
                data-widget-collapsed="true"
                data-widget-sortable="false"

                -->
                <header>
                    <span class="widget-icon"> <i class="fa fa-check"></i> </span>
                    <h2>新建稽查项目</h2>

                </header>

                <!-- widget div-->
                <div>

                    <!-- widget edit box -->
                    <div class="jarviswidget-editbox">
                        <!-- This area used as dropdown edit box -->

                    </div>
                    <!-- end widget edit box -->

                    <!-- widget content -->
                    <div class="widget-body">

                        <div class="row">
                            <form  novalidate="novalidate" th:object="${realmodel}" method="POST" th:action="@{/system/org/save}"
                                   id="realentity">
                                <div id="bootstrap-wizard-1" class="col-sm-12">
                                    <div class="form-bootstrapWizard">
                                        <ul class="bootstrapWizard form-wizard">
                                            <li class="active" data-target="#step1">
                                                <a href="#tab1" data-toggle="tab"> <span class="step">1</span> <span
                                                        class="title">录入项目基本信息</span> </a>
                                            </li>
                                            <li data-target="#step2">
                                                <a href="#tab2" data-toggle="tab"> <span class="step">2</span> <span
                                                        class="title">配置项目稽查流程</span> </a>
                                            </li>
                                            <li data-target="#step3">
                                                <a href="#tab3" data-toggle="tab"> <span class="step">3</span> <span
                                                        class="title">分配项目角色及人员</span> </a>
                                            </li>
                                            <li data-target="#step4">
                                                <a href="#tab4" data-toggle="tab"> <span class="step">4</span> <span
                                                        class="title">选择稽查数据库</span> </a>
                                            </li>
                                            <li data-target="#step5">
                                                <a href="#tab5" data-toggle="tab"> <span class="step">5</span> <span
                                                        class="title">保存项目</span> </a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="tab1">
                                            <br>
                                            <br>
                                            <br>
                                            <h4><strong>Step 1 </strong> - 项目基本信息</h4>
                                            <br>
                                            <fieldset>

                                                <div class="row">
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <div class="form-group">
                                                            <label class="col-md-2 control-label"
                                                                   style="padding-top: 6px">项目名称：</label>
                                                            <div class="col-md-10">
                                                                <input class="form-control"
                                                                       placeholder="项目名称" type="text">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <div class="form-group">
                                                            <label class="col-md-2 control-label"
                                                                   style="padding-top: 6px">项目预算：</label>
                                                            <div class="col-md-10">
                                                                <input class="form-control"
                                                                       placeholder="项目预算" type="text">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <div class="form-group">
                                                            <label class="col-md-2 control-label"
                                                                   style="text-align: left ;padding-top: 6px">请选择项目经理：</label>

                                                            <div class="col-md-10">
                                                                <select class="js-example-data-array" style="width: 50%"></select>
                                                            </div>


                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12">
                                                        <label>请选择项目生命周期起止时间:</label>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <div class="input-group">
                                                                <input type="text" name="mystartdate" placeholder="开始时间" class="form-control datepicker" data-dateformat="dd/mm/yy">
                                                                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">

                                                        <div class="form-group">
                                                            <div class="input-group">
                                                                <input type="text" name="myenddate" placeholder="结束时间" class="form-control datepicker" data-dateformat="dd/mm/yy">
                                                                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>

                                            </fieldset>

                                        </div>
                                        <div class="tab-pane" id="tab2">
                                            <br>
                                            <br>
                                            <br>
                                            <h4><strong>Step 2 </strong> - 配置稽查流程</h4>
                                            <br>
                                            <fieldset>

                                                <div class="row">
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <img th:src="@{/realimages/process/temp/a1.png}"
                                                             src="../../static/realimages/process/temp/a1.png" alt="me"
                                                             class="online"/>

                                                    </div>
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <img th:src="@{/realimages/process/temp/a2.png}"
                                                             src="../../static/realimages/process/temp/a2.png" alt="me"
                                                             class="online"/>

                                                    </div>


                                                </div>

                                            </fieldset>
                                        </div>
                                        <div class="tab-pane" id="tab3">
                                            <br>
                                            <br>
                                            <br>
                                            <h4><strong>Step 3 </strong> - 分配项目角色及人员</h4>
                                            <br>
                                            <fieldset>
                                                <legend style="font-size: 14px">请从人才库中为此项目分配预稽查人员</legend>
                                                <div class="row">
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <div class="form-group">
                                                            <label class="col-md-2 control-label"
                                                                   style="text-align: left ;padding-top: 6px">预稽查工作组：</label>
                                                            <div class="col-md-10">
                                                                <select multiple style="width:100%" class="select2">
                                                                    <optgroup label="肿瘤科">
                                                                        <option value="AK">预稽查员1</option>
                                                                        <option value="HI">预稽查员2</option>
                                                                        <option value="lb">预稽查员3</option>

                                                                    </optgroup>
                                                                    <optgroup label="脑科">
                                                                        <option value="CA">预稽查员4</option>
                                                                        </option>
                                                                        <option value="OR">预稽查员5</option>
                                                                        <option value="WA">预稽查员6</option>
                                                                    </optgroup>
                                                                    <optgroup label="心脏科">
                                                                        <option value="AZ">Arizona</option>
                                                                        <option value="CO">Colorado</option>
                                                                        <option value="ID">Idaho</option>
                                                                        </option>
                                                                        <option value="NE">Nebraska</option>
                                                                        <option value="NM">New Mexico</option>
                                                                        <option value="ND">North Dakota</option>
                                                                        <option value="UT">Utah</option>
                                                                        <option value="WY">Wyoming</option>
                                                                    </optgroup>

                                                                </select>


                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>

                                            <fieldset>
                                                <legend style="font-size: 14px">请从专家库中为此项目分配稽查人员</legend>
                                                <div class="row">
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <div class="form-group">
                                                            <label class="col-md-2 control-label"
                                                                   style="text-align: left ;padding-top: 6px">稽查工作组：</label>
                                                            <div class="col-md-10">
                                                                <select multiple style="width:100%" class="select2">
                                                                    <optgroup label="肿瘤科">
                                                                        <option value="AK">肿瘤稽查员1</option>
                                                                        <option value="HI">肿瘤稽查员2</option>
                                                                        <option value="lb">肿瘤稽查员3</option>

                                                                    </optgroup>
                                                                    <optgroup label="脑科">
                                                                        <option value="CA">肿瘤稽查员4</option>
                                                                        </option>
                                                                        <option value="OR">肿瘤稽查员5</option>
                                                                        <option value="WA">肿瘤稽查员6</option>
                                                                    </optgroup>
                                                                    <optgroup label="心脏科">
                                                                        <option value="AZ">Arizona</option>
                                                                        <option value="CO">Colorado</option>
                                                                        <option value="ID">Idaho</option>
                                                                        </option>
                                                                        <option value="NE">Nebraska</option>
                                                                        <option value="NM">New Mexico</option>
                                                                        <option value="ND">North Dakota</option>
                                                                        <option value="UT">Utah</option>
                                                                        <option value="WY">Wyoming</option>
                                                                    </optgroup>
                                                                    <optgroup label="特聘稽查员">
                                                                        <option value="boss" selected="selected">王雨萌
                                                                        </option>
                                                                    </optgroup>
                                                                </select>


                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>

                                            <fieldset>
                                                <legend style="font-size: 14px">请从专家库中为此项目分配专家</legend>
                                                <div class="row">
                                                    <div class="col-sm-12" style="margin-bottom: 10px">
                                                        <div class="form-group">
                                                            <label class="col-md-2 control-label"
                                                                   style="text-align: left ;padding-top: 6px">专家组：</label>
                                                            <div class="col-md-10">
                                                                <select multiple style="width:100%" class="select2">
                                                                    <optgroup label="肿瘤科">
                                                                        <option value="AK">肿瘤专家1</option>
                                                                        <option value="HI">肿瘤专家2</option>
                                                                        <option value="lb">刘备</option>

                                                                    </optgroup>
                                                                    <optgroup label="脑科">
                                                                        <option value="CA">脑科专家1</option>
                                                                        </option>
                                                                        <option value="OR">脑科专家2</option>
                                                                        <option value="WA">脑科专家3</option>
                                                                    </optgroup>
                                                                    <optgroup label="心脏科">
                                                                        <option value="AZ">Arizona</option>
                                                                        <option value="CO">Colorado</option>
                                                                        <option value="ID">Idaho</option>
                                                                        </option>
                                                                        <option value="NE">Nebraska</option>
                                                                        <option value="NM">New Mexico</option>
                                                                        <option value="ND">North Dakota</option>
                                                                        <option value="UT">Utah</option>
                                                                        <option value="WY">Wyoming</option>
                                                                    </optgroup>
                                                                    <optgroup label="特聘专家">
                                                                        <option value="boss" selected="selected">闫主任
                                                                        </option>
                                                                    </optgroup>
                                                                </select>


                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>

                                        </div>
                                        <div class="tab-pane" id="tab4">
                                            <br>
                                            <br>
                                            <br>
                                            <h4><strong>Step 4</strong> - 选择稽查项数据库</h4>
                                            <div class="row">
                                                <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                                                    <!-- Widget ID (each widget will need unique ID)-->
                                                    <div class="jarviswidget" id="wid-id-1">

                                                        <header>
                                                        <span class="widget-icon"> <i
                                                                class="fa fa-comments"></i> </span>
                                                            <h2>稽查项树形列表</h2>

                                                        </header>

                                                        <!-- widget div-->
                                                        <div>

                                                            <!-- widget edit box -->
                                                            <div class="jarviswidget-editbox">
                                                                <!-- This area used as dropdown edit box -->
                                                            </div>
                                                            <!-- end widget edit box -->

                                                            <!-- widget content -->
                                                            <div class="widget-body">

                                                                <div class="row">
                                                                    <div class="col-sm-12">

                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <!-- Add a <table> element where the tree should appear: -->
                                                                        <table id="treetable"
                                                                               class="table table-striped table-bordered table-hover">
                                                                            <colgroup>
                                                                                <col width="30px"/>
                                                                                <col width="30px"/>
                                                                                <col width="*"/>
                                                                                <col width="50px"/>
                                                                            </colgroup>
                                                                            <thead>
                                                                            <tr>
                                                                                <th></th>
                                                                                <th>#</th>
                                                                                <th>稽查项名称</th>
                                                                                <th>所查文件</th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- (Irrelevant source removed.) -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- end widget content -->
                                                        </div>
                                                        <!-- end widget div -->
                                                    </div>
                                                    <!-- end widget -->
                                                </article>
                                            </div>


                                        </div>
                                        <div class="tab-pane" id="tab5">
                                            <br>
                                            <br>
                                            <br>
                                            <h4><strong>Step 5</strong> - 确认保存</h4>
                                            <br>
                                            <div class="input-group">
                                                <div class="input-group-btn">
                                                    <a href="javascript:void(0);" id="btnNew"
                                                       class="btn btn-labeled btn-primary"> <span
                                                            class="btn-label"><i
                                                            class="glyphicon glyphicon-ok"></i></span>创建项目
                                                    </a>
                                                </div>
                                            </div>
                                            <br>
                                            <br>
                                        </div>

                                        <div class="form-actions">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <ul class="pager wizard no-margin">
                                                        <!--<li class="previous first disabled">
                                                        <a href="javascript:void(0);" class="btn btn-lg btn-default"> First </a>
                                                        </li>-->
                                                        <li class="previous disabled">
                                                            <a href="javascript:void(0);"
                                                               class="btn btn-lg btn-default"> Previous </a>
                                                        </li>
                                                        <!--<li class="next last">
                                                        <a href="javascript:void(0);" class="btn btn-lg btn-primary"> Last </a>
                                                        </li>-->
                                                        <li class="next">
                                                            <a href="javascript:void(0);"
                                                               class="btn btn-lg txt-color-darken"> Next </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </form>
                        </div>


                    </div>
                    <!-- end widget content -->

                </div>
                <!-- end widget div -->

            </div>
        </article>
        <!-- end widget -->
        <!-- WIDGET END -->


    </div>

    <!-- end row -->
</section>
<!-- end widget grid -->

<script type="text/javascript">

    pageSetUp();

    // pagefunction

    var pagefunction = function () {

        loadScript("realaicy/js/s2/select2.full.min.js",runs2);

        function runs2(){
            var data = [{ id: 0, text: 'enhancement' }, { id: 1, text: 'bug' }, { id: 2, text: 'duplicate' }, { id: 3, text: 'invalid' }, { id: 4, text: 'wontfix' }];

            $(".js-example-data-array").select2({
                data: data
            })
        }

        loadScript("smartadmin/js/plugin/bootstrap-wizard/jquery.bootstrap.wizard.min.js", runBootstrapWizard);

        //Bootstrap Wizard Validations

        function runBootstrapWizard() {

            var $validator = $("#realentity").validate({

                rules: {
                },

                messages: {

                },

                highlight: function (element) {
                    $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
                },
                unhighlight: function (element) {
                    $(element).closest('.form-group').removeClass('has-error').addClass('has-success');
                },
                errorElement: 'span',
                errorClass: 'help-block',
                errorPlacement: function (error, element) {
                    if (element.parent('.input-group').length) {
                        error.insertAfter(element.parent());
                    } else {
                        error.insertAfter(element);
                    }
                }
            });

            $('#bootstrap-wizard-1').bootstrapWizard({

                'tabClass': 'form-wizard',
                'onNext': function (tab, navigation, index) {
                    var $valid = $("#realentity").valid();
                    if (!$valid) {
                        $validator.focusInvalid();
                        return false;
                    } else {
                        $('#bootstrap-wizard-1').find('.form-wizard').children('li').eq(index - 1).addClass('complete');
                        $('bootstrap-wizard-1').find('.form-wizard').children('li').eq(index - 1).find('.step').html('<i class="fa fa-check"></i>');
                    }
                }
            });
        }
    };
    // end pagefunction

    // Load bootstrap wizard dependency then run pagefunction
    // pagefunction();
    pagefunction();
</script>
