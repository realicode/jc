<!-- widget edit box -->
<div class="jarviswidget-editbox">
    <!-- This area used as dropdown edit box -->
</div>
<!-- end widget edit box -->

<!-- widget content -->
<div class="widget-body no-padding">
    <!--/*@thymesVar id="realmodel" type=""*/-->
    <form th:object="${realmodel}" method="POST" th:action="@{/system/user/save}"
          id="realentity" class="smart-form"
          xmlns:th="http://www.thymeleaf.org">
        <fieldset>
            <div class="row">
                <section class="col col-6">
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="text" name="username" th:field="*{username}" placeholder="用户名称">
                        <b class="tooltip tooltip-bottom-right">字段帮助信息示例</b>
                    </label>
                </section>
                <section class="col col-6">
                    <label class="input"> <i class="icon-prepend fa fa-envelope-o"></i>
                        <input type="email" name="email" th:field="*{email}" placeholder="电子邮箱">
                    </label>
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="password" name="password" th:field="*{password}" placeholder="用户密码">
                    </label>
                </section>

                <section class="col col-6">
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="text" name="test" placeholder="测试">
                    </label>
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label class="input"> <i class="icon-prepend fa fa-user"></i>
                        <input type="password" name="passwordConfirm" placeholder="确认密码">
                    </label>
                </section>
                <section class="col col-6">
                    <label class="input"> <i class="icon-prepend fa fa-envelope-o"></i>
                        <input type="text" name="email" th:field="*{nickname}" placeholder="用户昵称">
                    </label>
                </section>
            </div>
        </fieldset>

        <fieldset>
            <div class="row">
                <section class="col col-4">
                    <label class="select">
                        <select name="country">
                            <option value="0" selected="" disabled="">用户状态</option>
                            <option value="244">正常</option>
                            <option value="233">停用</option>

                        </select> <i></i> </label>
                </section>

                <section class="col col-4">
                    <label class="select">
                        <select name="sex">
                            <option value="0" selected="" disabled="">用户性别</option>
                            <option value="244">男</option>
                            <option value="233">女</option>

                        </select> <i></i> </label>
                </section>


                <section class="col col-4">
                    <label class="select">
                        <select name="type">
                            <option value="0" selected="" disabled="">用户类型</option>
                            <option value="244">类型1</option>
                            <option value="233">类型2</option>

                        </select> <i></i> </label>
                </section>

            </div>


        </fieldset>


        <footer>
            <button type="submit" class="btn btn-primary">
                新增用户提交
            </button>
        </footer>
    </form>

</div>

<script>
    /*$("#realentity").submit(function (e) {

     var url = "/system/user/save"; // the script where you handle the form input.

     console.log("aaa")
     $.ajax({
     type: "POST",
     url: url,
     data: $("#realentity").serialize(), // serializes the form's elements.
     success: function (data) {
     alert(data); // show response from the php script.
     }
     });

     e.preventDefault(); // avoid to execute the actual submit of the form.
     });*/

    var validateForm = $("#realentity").validate({

        // Rules for form validation
        rules: {
            username: {
                required: true
            },
            /*email: {
             required: true,
             email: true
             },
             password: {
             required: true,
             minlength: 3,
             maxlength: 20
             },
             passwordConfirm: {
             required: true,
             minlength: 3,
             maxlength: 20,
             equalTo: '#password'
             }*/
        },
        // Messages for form validation
        messages: {
            username: {
                required: '请输入用户名'
            },
            /*email: {
             required: '请输入电子邮箱地址',
             email: '请输入格式正确的电子邮箱地址'
             },
             password: {
             required: '请输入密码'
             },
             passwordConfirm: {
             required: '请再次输入密码',
             equalTo: '请确认两次密码输入相同'
             }*/
        },

        // Do not change code below
        errorPlacement: function (error, element) {
            error.insertAfter(element.parent());
        },
        submitHandler: function (form) {
            $.ajax({
                url: form.action,
                type: form.method,
                data: $(form).serialize(),
                success: function (response) {
                    alert(response); // show response from the php script.
                    //$('#answers').html(response);
                }
            });
        }
    });


</script>
<!-- end widget content -->